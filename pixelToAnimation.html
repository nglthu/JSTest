<html>

<head>
	<title>Video</title>
</head>
	<body>
	<p>Video:</p>
	<video id="v" controls loop src="img/test.mp4" title="Video"></video>
	
	<canvas id="c">
		
	</canvas>
	
	<script type="text/javascript">
		var canvas = document.querySelector("canvas");
		var ctx = canvas.getContext("2d");
		
		document.addEventListener("DOMContentLoaded",function(){
		var v = document.querySelector("#v");
		var canvas = document.querySelector("#c");
		var ctx = canvas.getContext("2d");
			v.addEventListener("loadedmetadata",function(){
				canvas.width = this.videoWidth;
				canvas.height = this.videoHeight;
			});
			function draw (){
				canvas.getContext('2d').fillText("Images:",140,140);
				canvas.getContext('2d').font='20pt Arial';
				canvas.getContext('2d').drawImage(v,150,150,250,250);
				canvas.getContext('2d').strokeRect(150,150,250,250);
				requestAnimationFrame(draw);
			};
			v.addEventListener('play',function(){
				if(v.paused || v.ended ) return;
				draw();
				
			});
		});
	</script>
	</body>
	<style>
		video{
			width:30%;
			height:30%;
		}
		p{
			font-size:40px;
		}
	
	</style>
</html>